# MikroTik Exploit Scanner v3.0 Proxy Checker

**MikroTik Exploit Scanner v3.0 Proxy Checker** — это инструмент для тестирования уязвимостей устройств MikroTik RouterOS через протокол Winbox (CVE-2018-14847) и проверки прокси-серверов (HTTP, SOCKS4, SOCKS5). Программа позволяет сканировать IP-адреса или подсети, извлекать учетные данные RouterOS и проверять работоспособность прокси.

⚠️ **Внимание**: Программа предназначена исключительно для образовательных целей и тестирования собственных сетей. Использование без согласия владельца оборудования запрещено и может нарушать законодательство.

## Возможности

### Сканирование уязвимостей MikroTik
- Сканирование устройств MikroTik на уязвимость CVE-2018-14847 через протокол Winbox (порт 8291 по умолчанию).
- Поддержка ввода:
  - Одиночного IP-адреса (например, `192.168.1.10`).
  - Диапазона IP-адресов в формате CIDR (например, `192.168.1.0/24`).
  - Списка IP-адресов из текстового файла.
- Определение версии RouterOS, геолокации (страна, ASN, организация) и учетных данных (логин/пароль).
- Возможность сканирования через прокси (HTTP, SOCKS4, SOCKS5) или напрямую.
- Фильтрация результатов по стране и ASN.
- Сохранение результатов в файлы `results.txt` (полные данные) и `success_ips.txt` (список уязвимых IP).
- Отображение прогресса:
  - Статус сканирования (например, "Сканирование 12 из 9878") отображается слева от прогресс-бара.
  - Оставшееся время (например, "Осталось: 00:35:57") отображается под прогресс-баром.

⚠️ **Примечание**: Уязвимость актуальна для версий RouterOS до 6.45.9.

### Проверка прокси-серверов
- Поддержка протоколов: HTTP, SOCKS4, SOCKS5.
- Проверка одного прокси или списка прокси из файла.
- Отображение пинга (в миллисекундах) для рабочих прокси.
- Отображение прогресса:
  - Статус проверки (например, "Проверка прокси 178 из 200") отображается слева от прогресс-бара.
  - Процент выполнения (например, "89.00%") отображается справа от прогресс-бара.
- Сохранение результатов в файлы:
  - `valid_proxies.txt` — рабочие прокси.
  - `invalid_proxies.txt` — нерабочие прокси.
- Поддержка авторизации прокси (логин/пароль).

### Интерфейс
- Графический интерфейс на основе Tkinter.
- Интеграция с системным треем для сворачивания приложения.
- Поддержка горячих клавиш и контекстного меню для полей ввода:
  - Выделение всего текста (`Ctrl+A` или двойной клик).
  - Копирование (`Ctrl+C`), вырезание (`Ctrl+X`), вставка (`Ctrl+V`).
  - Те же действия доступны через контекстное меню (правый клик).
- Сохранение настроек в файл `config.ini` (последние IP, прокси, размеры окна и т.д.).

## Защита маршрутизатора MikroTik
Чтобы устранить уязвимость CVE-2018-14847:
1. Обновите RouterOS до версии 6.45.9 или выше.
2. Ограничьте доступ к порту Winbox через брандмауэр:
   ```plaintext
   /ip firewall filter
   add chain=input in-interface=wan protocol=tcp dst-port=8291 action=drop
   ```

## Скачать портативную версию для Windows x64
Скачайте последнюю версию (`Mikrotik_Checker_v3.0.exe`) из [релизов](https://github.com/nebbbes/Mikrotik_Checker/releases/tag/v3.0.0).

## Установка и сборка из исходников

### Требования
- **Git**: Для клонирования репозитория ([скачать](https://git-scm.com/download/win)).
- **Python**: Версия 3.6 или выше ([скачать](https://www.python.org/downloads/)). Убедитесь, что опция "Add Python to PATH" включена.
- **PowerShell** (опционально): Для удобной работы в Windows (предустановлен в Windows 10/11, иначе [скачать](https://github.com/PowerShell/PowerShell/releases/)).

### Установка
1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/nebbbes/Mikrotik_Checker
   cd Mikrotik_Checker
   ```

2. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Запустите программу**:
   ```bash
   python src/gui.py
   ```

### Сборка исполняемого файла
Для создания портативного `.exe`:
1. Установите PyInstaller:
   ```bash
   pip install pyinstaller
   ```
2. Выполните сборку:
   ```bash
   pyinstaller --onefile --noconsole --add-data "fon.png;." --add-data "icon.png;." --name Mikrotik_Checker_v3.0 src/gui.py
   ```
3. Найдите файл `Mikrotik_Checker_v3.0.exe` в папке `dist/`.

## Использование

### Сканирование уязвимостей
1. **Запустите программу**:
   - Через исходный код: `python src/gui.py`.
   - Через `.exe`: двойной клик по `Mikrotik_Checker_v3.0.exe`.

2. **Выберите режим ввода**:
   - **IP/CIDR**: Укажите IP (например, `192.168.1.10`) или диапазон (например, `192.168.1.0/24`).
   - **Файл**: Нажмите "Обзор" и выберите файл со списком IP (каждый IP на новой строке).

3. **Настройте параметры**:
   - Порт (по умолчанию `8291`).
   - Количество потоков сканирования (по умолчанию `10`).
   - (Опционально) Включите сканирование через прокси, указав настройки в правой части интерфейса.

4. **Запустите сканирование**:
   - Нажмите "Старт" (`Ctrl+S`).
   - Используйте "Пауза" (`Ctrl+P`) или "Стоп" для управления процессом.
   - Результаты отображаются в окне и сохраняются в `results.txt` и `success_ips.txt`.

5. **Фильтрация**:
   - Используйте выпадающие списки "Страна" и "ASN", затем нажмите "Применить фильтры".

### Проверка прокси
1. **Настройте прокси**:
   - Выберите тип прокси (`HTTP`, `SOCKS4`, `SOCKS5` или `all`).
   - Укажите IP и порт прокси в соответствующих полях.
   - (Опционально) Введите логин и пароль.
   - Укажите количество потоков проверки (по умолчанию `10`).

2. **Проверка одного прокси**:
   - Нажмите "Тест прокси" (`Ctrl+T`).
   - Результат (статус и пинг) появится в окне.

3. **Проверка списка прокси**:
   - Нажмите "Тест списка прокси" и выберите файл (формат: `ip:port` на строку).
   - Управляйте процессом с помощью "Пауза теста прокси" или "Отмена теста прокси".
   - Результаты сохраняются в `valid_proxies.txt` и `invalid_proxies.txt`.

### Работа с полями ввода
- **Выделение текста**: Двойной клик или `Ctrl+A`.
- **Копирование**: `Ctrl+C` или через контекстное меню (правый клик).
- **Вырезание**: `Ctrl+X` или через контекстное меню.
- **Вставка**: `Ctrl+V` или через контекстное меню.

## Горячие клавиши
- `Ctrl+S`: Начать сканирование.
- `Ctrl+P`: Пауза/возобновление сканирования.
- `Ctrl+T`: Тестировать текущий прокси.
- `Ctrl+A`: Выделить весь текст в поле ввода.
- `Ctrl+C`: Копировать текст.
- `Ctrl+X`: Вырезать текст.
- `Ctrl+V`: Вставить текст.
- `Ctrl+Q`: Закрыть приложение.

## Файлы
- `src/gui.py`: Основной код программы.
- `src/fon.png`: Фоновое изображение интерфейса.
- `src/icon.png`: Иконка системного трея.
- `requirements.txt`: Список зависимостей.
- `results.txt`: Результаты сканирования.
- `success_ips.txt`: Список уязвимых IP.
- `valid_proxies.txt`: Рабочие прокси.
- `invalid_proxies.txt`: Нерабочие прокси.
- `config.ini`: Конфигурация (создаётся автоматически).

## Лицензия
Проект распространяется под лицензией MIT. См. [LICENSE](LICENSE).

## Вклад
Хотите улучшить проект? Ознакомьтесь с [CONTRIBUTING.md](CONTRIBUTING.md).

## Контакты
- Автор: nebbbes
- Репозиторий: [https://github.com/nebbbes/Mikrotik_Checker](https://github.com/nebbbes/Mikrotik_Checker)

## Скриншот

![Screenshot_202](https://github.com/user-attachments/assets/2c2ec8b8-3fb9-4878-8367-4ed4fb194343)


⚠️ **Напоминание**: Используйте инструмент только с разрешения владельцев оборудования!
